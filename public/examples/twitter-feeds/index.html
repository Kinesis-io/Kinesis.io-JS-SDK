<!DOCTYPE html>
<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  	<script src="js/jquery.mousewheel.js"></script>
  	<link rel="stylesheet" href="css/animations.css" type="text/css" />
  	<script>
  	  $.fn.activate = function() {
  	    var me = $(this);
  	    if(me)
  	      me.addClass('active');
  	  };
  	  
      $.fn.slideLeft = function() {
        var tiles = $(this);
        var _index = tiles.find('td').index(tiles.find('.active')[0]);
        var _left = tiles.find('td').width() * (_index + 1);
        if(_index < tiles.find('td').length - 1) {
          $(this).css("-webkit-transform", "translate(-" + _left + "px, 0)");
          $(this).css("-moz-transform", "translate(-" + _left + "px, 0)");
          tiles.find('.active').removeClass('active').next().activate();
        };
      };
      
      $.fn.slideRight = function() {
        var tiles = $(this);
        var _index = tiles.find('td').index(tiles.find('.active')[0]);
        var _left = tiles.find('td').width() * (_index - 1);
        if(_index > 0) {
          $(this).css("-webkit-transform", "translate(-" + _left + "px, 0)");
          $(this).css("-moz-transform", "translate(-" + _left + "px, 0)");
          tiles.find('.active').removeClass('active').prev().activate();
        };
      };
  	
    	$(function(){
    		$("#twitter_update_list").wrapInner("<table cellspacing='30'><tr>");
    		$("li").wrap("<td></td>");
    		$("body").mousewheel(function(event, delta) {
    			this.scrollLeft -= (delta * 30);
    			event.preventDefault();
    		}); 
    		var _first = $("#twitter_update_list table tr td")[0];
    		$(_first).addClass('active');
    	});
  	</script>
  </head>
  <body>
    <div id="twitter_update_list">
      <div class="kinesis">KINESIS.IO DEMO</div>
    </div>
    <canvas id="cursor" width="100" height="100">
      <div id='hand'></div>
    </canvas>
    <script type="text/javascript" src="js/blogger.js">
    </script>
    <script type="text/javascript" src="https://api.twitter.com/1/statuses/user_timeline.json?callback=twitterCallback2&include_entities=true&include_rts=true&screen_name=levis&count=10">
    </script>
    <link rel="stylesheet" type="text/css" href="/lib/css/kinesis.css">
    <!-- js at the bottom to load the page faster -->
    <script src="/lib/js/kinesis-js-sdk.min.js"></script>
    
    <script type="text/javascript">
      function test(gesture) {
        alert("hello world" + gesture);
      }
    </script>
    <script>
      function swipeControl(gesture) {
        switch(gesture){
          case leftGesture:
            $('#twitter_update_list').slideLeft();
            break;
          case rightGesture:
             $('#twitter_update_list').slideRight();
             break;
        }
      }
    
      var kinesis = new Kinesis;
      
      var leftGesture = new SwipeGestureListener("myswipeLeftR");
      leftGesture.directions = [GestureDirections.GestureDirectionLeft];
      leftGesture.toFire = swipeControl;

      var rightGesture = new SwipeGestureListener("myswipeRightR");
      rightGesture.directions = [GestureDirections.GestureDirectionRight];
      rightGesture.toFire = swipeControl;

      kinesis.addGesture(leftGesture);
      kinesis.addGesture(rightGesture);
    </script>
  </body>
</html>
