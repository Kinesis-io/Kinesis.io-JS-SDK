<!DOCTYPE html>
<html>
  <head>
    <title>Kinesis.io Techstars</title>
    <!-- kinesis stylesheet -->
    <link rel="stylesheet" type="text/css" href="lib/css/kinesis.css">
  	<link rel="stylesheet" href="css/horizontal-scroll.css" type="text/css" />
  	<link rel="stylesheet" href="css/techstars.css" type="text/css" />
  </head>
  <body>
    <div id="logo">
      <a href="#"><img src="images/Techstars-logo-small.png" alt="" /></a>
      <span>Do more faster by joining forces with the <br />#1 startup accelerator in the world.</span>
    </div>
    <div id="gridHolder">
      <div class="row">
        <div class="tileItem">
          <img src="images/boston.jpg" />
          <a class="caption" href="boston.html"><span class="interactive">Boston</span></a>
        </div>
        <div class="tileItem" onclick="window.location='boulder.html'">
          <img src="images/boulder.jpg" class="interactive"/>
          <span class="caption">Boulder</span>
        </div>
      </div>  
      <div class="row">
        <div class="tileItem">
          <img src="images/new-york.jpg" />
          <a class="caption" href="new-york.html"><span class="interactive">NewYork City</span></a>
        </div>
        <div class="tileItem">
          <img src="images/seattle.jpg" />
          <a class="caption" href="seattle.html"><span class="interactive">Seattle</span></a>
        </div>
      </div>  
    </div>
    <script src="js/jquery-1.6.4.min.js"></script>
  	<script src="js/jquery.mousewheel.js"></script>
  	<script src="lib/js/constants.js"></script>
    <script src="lib/js/utils.js"></script>
    <script src="lib/js/gesture-listener.js"></script>
    <script src="lib/js/kinesis.js"></script>
    <script src="lib/js/kinect.js"></script>
	<script type="text/javascript" src="js/html2canvas.js"></script>
	<script type="text/javascript" src="js/jquery.plugin.html2canvas.js"></script>
  	<script>
  	  $(function(){
        // wrap the gridHolder in a table and all the tileItems inside td.tile
        $("#gridHolder").wrapInner("<ul></ul>");
      	$(".banner").wrap("<li></li>");
      	$(".tileItem").wrap("<li class='tile'></li>");
      });

      var kinesis = new Kinesis;
    </script>
	<script>
		//returns back the base64 string for the screenshot in a callback
		function screenshot(callback) {
			var date = new Date(),
	        timer = date.getTime();
	        options = {};
	        options.elements = document.getElementsByTagName("body");
	        html2canvas.logging = false;
	        options.complete = function(images){
	            var queue = html2canvas.Parse(this[0], images, options),
	            $canvas = $(html2canvas.Renderer(queue, options)),
	            finishTime = new Date();
				if(callback != undefined && callback.call)
					callback($canvas[0].toDataURL());
				else
					console.info("Callback not Specified");
	        };
	        html2canvas.Preload(document.body,  options);
		}
		
		function testScreenShot() {
			screenshot( function(data) {
			  $.ajax({
          type: 'POST',
          url: '/upload',
          data: {obj:data},
          success: function(success) {
            console.info(success);
          }
        });
				 //newWindow=window.open(data, 'newDocument');
			});
		}
		
		function savefile() {
		 	var bb = new WebKitBlobBuilder();
			bb.append((new XMLSerializer).serializeToString(document));
			var blob = bb.getBlob("application/xhtml+xml;charset=" + document.characterSet);
			saveAs(blob, "document.xhtml");
		}
	</script>
  </body>
</html>
