/* turn.js | turnjs.com | (c) 2012 Emmanuel Garcia | MIT Licensed */
(function(h){var E=Math.PI,C=E/2,H="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,v="Touch"in window,I=v?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},L={backward:["bl","tl"],forward:["br","tr"],all:["tl","bl","tr","br"]},M={page:1,shadows:!0,duration:600,acceleration:!0},N={back:null,corners:"forward",cornerSize:100,shadows:!0,duration:600,acceleration:!0},t=function(a,b,c,d){return{css:{position:"absolute",top:a,left:b,overflow:d||
"hidden","z-index":c||"auto"}}},J=function(a,b,c,d,e){var f=1-e,i=f*f*f;mu3=e*e*e;return g(Math.round(i*a.x+3*e*f*f*b.x+3*e*e*f*c.x+mu3*d.x),Math.round(i*a.y+3*e*f*f*b.y+3*e*e*f*c.y+mu3*d.y))},g=function(a,b){return{x:a,y:b}},o=function(a,b,c){return H&&c?" translate3d("+a+"px,"+b+"px, 0px) ":" translate("+a+"px, "+b+"px) "},q=function(a){return" rotate("+a+"deg) "},j={init:function(a){var b,c,d=this.data();c=this.children();var e=c.length,a=h.extend({width:this.width(),height:this.height()},M,a);
d.opt=a;d.pageObjs={};d.pages={};d.pageWrap={};d.pagePlace={};d.pageMv=[];d.totalPages=e;this.css({position:"relative"});H&&!v&&a.acceleration&&this.transform(o(0,0,!0));for(b=1;b<=e;b++)d.pagePlace[b]=b,d.pageObjs[b]=h(c[b-1]).addClass("turn-page p"+b),d.pageWrap[b]=h("<div/>",{"class":"turn-page-wrapper",css:{position:"absolute",overflow:"hidden"}}).attr("page",b).appendTo(this).prepend(d.pageObjs[b]);for(b=1;b<=e;b++)c=0==b%2,d.pages[b]=d.pageWrap[b].css(c?{top:0,left:0}:{top:0,right:0}).children(":first").flip({next:c?
b-1:b+1,page:b,turn:this,duration:a.duration,acceleration:a.acceleration,corners:c?"backward":"forward",back:c?d.pageObjs[b-1]:d.pageObjs[b+1],backShadow:a.shadows&&2!=b&&b!=e-1,frontShadow:a.shadows}).bind("pressed",j._pressed).bind("released",j._released).bind("start",j._start).bind("end",j._end).bind("flip",j._flip);j.page.call(this,a.page);d.done=!0;this.turn("size",a.width,a.height);return this},animating:function(){return 0<this.data().pageMv.length},disable:function(a){var b=this.data(),a=
"undefined"==typeof a?!0:!0===a;b.disabled=a;for(p=1;p<=b.totalPages;p++)b.pages[p].flip("disable",a)},size:function(a,b){if(a&&b){var c=this.data(),d=a/2,e;this.css({width:a,height:b});for(e=1;e<=c.totalPages;e++)c.pageWrap[e].css({width:d,height:b}),c.pages[e]&&c.pages[e].css({width:d,height:b});this.turn("resize");return this}return{width:this.width(),height:this.height()}},_visiblePages:function(a){a=a||this.data().page;return 0==a%2?[a,a+1]:[a-1,a]},_removeMv:function(a){var b,c=this.data();
for(b=0;b<c.pageMv.length;b++)if(c.pageMv[b]==a)return c.pageMv.splice(b,1),!0;return!1},_addMv:function(a){var b=this.data();j._removeMv.call(this,a);b.pageMv.push(a)},view:function(a){var b=this.data(),a=j._visiblePages.call(this,a);return[b.pages[a[0]]?a[0]:0,b.pages[a[1]]?a[1]:0]},stop:function(){var a=this.data(),b;a.pageMv=[];a.tpage&&(a.page=a.tpage,delete a.tpage);this.turn("update");for(b=1;b<=a.totalPages;b++){var c=a.pages[b].data().pageFlip.opt;a.pages[b].flip("hideThumbIndex");i._moveBackPage.call(a.pages[b],
null);a.pagePlace[c.next]=c.next;c.force&&(c.next=0==c.page%2?c.page-1:c.page+1,a.pages[b].flip("setBackPage",a.pageObjs[c.next]),delete c.force)}return this},page:function(a){var b=this.data(),c=this.turn("view");if(pg=b.pages[a])if(!b.done||(!c[0]||a>=c[0])&&(!c[1]||a<=c[1]))b.tpage=a,this.turn("stop"),this.trigger("turned",[a,pg]);else{b.tpage=a;this.turn("stop");var d,e,f=this.turn("view",a);c[1]&&a>c[1]?(d=c[1],e=f[0]):c[0]&&a<c[0]&&(d=c[0],e=f[1]);a=b.pages[d].data().pageFlip.opt;b.tpage=e;
a.next!=e&&(a.next=e,b.pagePlace[a.next]=a.page,a.force=!0,i._moveBackPage.call(b.pages[d],!1),b.pages[d].flip("setBackPage",b.pageObjs[e]));b.pages[d].flip("turnPage")}else return c[0]||c[1];return this},next:function(){j._moveTo.call(this,1);return this},previous:function(){j._moveTo.call(this,-1);return this},_moveTo:function(a){var b,c=this.data(),d=j._visiblePages.call(this,c.tpage||c.page)[1==a?1:0],a=d+a,e=function(a){return c.pages[a].data().pageFlip};for(b=0;b<c.pageMv.length;b++)if(e(c.pageMv[b]).opt.force){this.turn("stop");
break}c.pages[a]&&c.pages[a]&&(c.pages[a].flip("moving")||c.pagePlace[d]==a?(b=e(a).opt,j._removeMv.call(this,b.pageMv),j._addMv.call(this,d),c.tpage=a,b.pageMv=d,c.pages[a].flip("hideThumbIndex",!0),c.pages[d].trigger("flip"),this.turn("update")):(c.tpage=a,e(d).fwrapper.is(":visible")&&(b=e(d).opt,j._removeMv.call(this,b.pageMv),j._addPage.call(c.pages[d])),c.pages[d].flip("turnPage")))},_addPage:function(){var a=h(this).data().pageFlip.opt,b=a.turn,c=b.data();a.pageMv=a.page;j._addMv.call(b,a.pageMv);
c.pagePlace[a.next]=a.page;b.turn("update")},_start:function(a){var b=h(this).data().pageFlip.opt;a.stopPropagation();j._addPage.call(this);b.turn.trigger("start",[b.page])},_end:function(a,b){a.stopPropagation();var c=h(this),d=c.data().pageFlip.opt,e=d.turn,f=e.data();if(b||f.tpage){if(f.tpage==d.next||f.tpage==d.page)f.page=f.tpage||d.next,delete f.tpage,e.trigger("end",[f.page]),e.turn("page",f.page);d.force&&(d.next=0==d.page%2?d.page-1:d.page+1,c.flip("setBackPage",e.data().pageObjs[d.next]),
delete d.force)}else 1==f.pageMv.length&&e.trigger("end",[f.page]),j._removeMv.call(e,d.pageMv),e.turn("update")},resize:function(){var a=this.data();for(p=1;p<=a.totalPages;p++)a.pages[p].flip("resize",!0)},calculateZ:function(a){var b=this,c=this.data(),d,e,f,i=c.totalPages,h=a.length,g={pageZ:{},partZ:{},pageV:{}},j=function(a){a=b.turn("view",a);a[0]&&(g.pageV[a[0]]=!0);a[1]&&(g.pageV[a[1]]=!0)};f=this.turn("view");for(var B=f[0]||f[1],k=0;k<h;k++)d=a[k],e=c.pages[d].data().pageFlip.opt.next,
f=c.pagePlace[d],j(d),j(e),d=c.pagePlace[e]==e?e:d,e=c.totalPages-Math.abs(B-d),g.pageZ[d]=e,g.partZ[f]=2*c.totalPages+Math.abs(B-d),0!=d%2&&c.pages[d-1]?(e-=h-1,g.pageZ[d-1]=e):0==d%2&&c.pages[d+1]&&(e-=d-1,g.pageZ[d+1]=e),e<i&&(i=e);for(var n in g.pageV)g.pageZ[n]||(g.pageZ[n]=--i);return g},update:function(){var a,b=this.data();if(b.pageMv.length){var c=this.turn("calculateZ",b.pageMv),d=this.turn("view",b.tpage),e;b.pagePlace[d[0]]==d[0]?e=d[0]:b.pagePlace[d[1]]==d[1]&&(e=d[1]);for(a=1;a<=b.totalPages;a++)b.pageWrap[a].css({display:c.pageV[a]?
"":"none","z-index":c.pageZ[a]||0}),b.pages[a].flip("z",c.partZ[a]||null),c.pageV[a]&&b.pages[a].flip("resize"),b.tpage&&b.pages[a].flip("disable",b.disabled||a!=e)}else{d=this.turn("view");for(a=1;a<=b.totalPages;a++)(c=a==d[0]||a==d[1])?b.pageWrap[a].css({"z-index":b.totalPages,display:""}):a==d[0]-2||a==d[1]+2?b.pageWrap[a].css({"z-index":b.totalPages-1,display:""}):b.pageWrap[a].css({"z-index":0,display:"none"}),b.pages[a].flip("z",null),b.pages[a].flip("disable",b.disabled||!c)}},_pressed:function(){var a,
b=h(this).data().pageFlip,c=b.opt.page,b=b.opt.turn.data().pages;for(a in b)a!=c&&b[a].flip("disable",!0);return this.time=(new Date).getTime()},_released:function(a,b){var c=h(this),d=(new Date).getTime()-this.time,e=c.data().pageFlip;if(200>d||0>b.x||b.x>h(this).width())a.stopPropagation(),e.opt.turn.data().tpage=e.opt.next,e.opt.turn.turn("update"),h(c).flip("turnPage")},_flip:function(){var a=h(this).data().pageFlip.opt;a.turn.trigger("turning",[a.next])}},i={init:function(a){a.shadows&&(a.frontShadow=
!0,a.backShadow=!0);i.setData.call(this,{opt:h.extend({},N,a)});i._addEvents.call(this);i._addPageWrapper.call(this);return this},setData:function(a){var b=this.data();b.pageFlip=h.extend(b.pageFlip||{},a)},_cAllowed:function(){return L[this.data().pageFlip.opt.corners]||this.data().pageFlip.opt.corners},_cornerActivated:function(a){var a=v?a.originalEvent.touches:[a],b;b=this.data().pageFlip;var c=b.parent.offset(),d=this.width(),e=this.height(),f=Math.max(0,a[0].pageX-c.left),a=Math.max(0,a[0].pageY-
c.top),g=b.opt.cornerSize,c=i._cAllowed.call(this);if(!b.opt.back||0>=f||0>=a||f>=d||a>=e)b=!1;else if(f<=g&&a<=g)b="tl";else if(f>=d-g&&a<=g)b="tr";else if(f<=g&&a>=e-g)b="bl";else if(f>=d-g&&a>=e-g)b="br";else return!1;return-1==h.inArray(b,c)?!1:{corner:b,x:f,y:a}},_c:function(a,b){b=b||0;return{tl:g(b,b),tr:g(this.width()-b,b),bl:g(b,this.height()-b),br:g(this.width()-b,this.height()-b)}[a]},_c2:function(a){return{tl:g(2*this.width(),0),tr:g(-this.width(),0),bl:g(2*this.width(),this.height()),
br:g(-this.width(),this.height())}[a]},z:function(a){var b=this.data().pageFlip;b.opt["z-index"]=a;b.fwrapper.css({"z-index":a||parseInt(b.parent.css("z-index"))||0})},resize:function(a){var b=this.data().pageFlip,c=this.width(),d=this.height(),e=Math.round(Math.sqrt(Math.pow(c,2)+Math.pow(d,2)));a&&(b.wrapper.css({width:e,height:e}),b.fwrapper.css({width:e,height:e}).children(":first-child").css({width:c,height:d}),b.fpage.css({width:d,height:c}),b.opt.frontShadow&&b.ashadow.css({width:d,height:c}),
b.opt.backShadow&&b.bshadow.css({width:c,height:d}));b.parent.is(":visible")&&(b.fwrapper.css({top:b.parent.offset().top,left:b.parent.offset().left}),b.opt.turn&&b.fparent.css({top:-b.opt.turn.offset().top,left:-b.opt.turn.offset().left}));this.flip("z",b.opt["z-index"])},_addPageWrapper:function(){var a=this.data().pageFlip,b=this.parent();if(!a.wrapper){this.css("left");this.css("top");var c=this.width(),d=this.height();Math.round(Math.sqrt(Math.pow(c,2)+Math.pow(d,2)));a.parent=b;a.fparent=a.opt.turn?
a.opt.turn.data().fparent:h("#turn-fwrappers");a.fparent||(c=h("<div/>").hide(),c.data().flips=0,a.opt.turn?(c.css(t(-a.opt.turn.offset().top,-a.opt.turn.offset().left,"auto","visible").css).appendTo(a.opt.turn),a.opt.turn.data().fparent=c):c.css(t(0,0,"auto","visible").css).attr("id","turn-fwrappers").appendTo(h("body")),a.fparent=c);this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"});a.wrapper=h("<div/>",t(0,0,this.css("z-index"))).appendTo(b).prepend(this);a.fwrapper=h("<div/>",
t(b.offset().top,b.offset().left)).hide().appendTo(a.fparent);a.fpage=h("<div/>",{css:{cursor:"default"}}).appendTo(h("<div/>",t(0,0,0,"visible")).appendTo(a.fwrapper));a.opt.frontShadow&&(a.ashadow=h("<div/>",t(0,0,1)).appendTo(a.fpage));a.opt.backShadow&&(a.bshadow=h("<div/>",t(0,0,1)).css({position:""}).appendTo(b));i.setData.call(this,a);i.resize.call(this,!0)}},_displayCorner:function(a){var b=this,c=0,d=0,e,f,h,j,F,x=g(0,0),B=g(0,0),k=g(0,0),n=this.width(),r=this.height(),l=this.data().pageFlip,
u=l.opt.acceleration,t=l.wrapper.height(),v=i._c.call(this,a.corner),A="t"==a.corner.substr(0,1),y="l"==a.corner.substr(1,1),D=function(){var m=g(v.x?v.x-a.x:a.x,v.y?v.y-a.y:a.y),z=Math.atan2(m.y,m.x||1),s;d=C-z;c=180*(d/E);s=g(y?n-m.x/2:a.x+m.x/2,m.y/2);var w=d-Math.atan2(s.y,s.x),w=Math.max(0,Math.sin(w)*Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2)));k=g(w*Math.sin(d),w*Math.cos(d));if(d>C&&(k.x+=Math.abs(k.y*Math.tan(z)),k.y=0,Math.round(k.x*Math.tan(E-d))<r))return a.y=Math.sqrt(Math.pow(r,2)+2*
s.x*m.x),A&&(a.y=r-a.y),D();e=Math.round(k.y/Math.tan(d)+k.x);y&&(e=n-e);m=y?e:n-e;z=m*Math.cos(2*d);s=m*Math.sin(2*d);m*=Math.sin(d);w=i._c2.call(b,a.corner);w=Math.sqrt(Math.pow(w.x-a.x,2)+Math.pow(w.y-a.y,2));B=g(Math.round(e+(y?-z:z)),Math.round(A?s:r-s));F=w<n?w/n:1;d>C&&(z=E-d,s=t-r/Math.sin(z),x=g(Math.round(s*Math.cos(z)),Math.round(s*Math.sin(z))),y&&(x.x=-x.x),A&&(x.y=-x.y));l.opt.frontShadow&&(j=100<m?(m-100)/m:0,f=g(100*(m*Math.sin(C-d)/r),100*(m*Math.cos(C-d)/n)),A&&(f.y=100-f.y),y&&
(f.x=100-f.x));l.opt.backShadow&&(h=g(100*(m*Math.sin(d)/n),100*(m*Math.cos(d)/r)),y||(h.x=100-h.x),A||(h.y=100-h.y));k.x=Math.round(k.x);k.y=Math.round(k.y);return!0},G=function(a,c,d,e){var g=["0","auto"],i=(n-t)*d[0]/100,k=(r-t)*d[1]/100,d=d[0]+"% "+d[1]+"%",c={left:g[c[0]],top:g[c[1]],right:g[c[2]],bottom:g[c[3]]};b.css(c).transform(q(e)+o(a.x,a.y,u),d);l.fpage.parent().css(c);l.wrapper.transform(o(-a.x+i,-a.y+k,u)+q(-e),d);l.fwrapper.transform(o(-a.x+x.x+i,-a.y+x.y+k,u)+q(-e),d);l.fpage.parent().transform(q(e)+
o(a.x+B.x-x.x,a.y+B.y-x.y,u),d);l.opt.frontShadow&&l.ashadow.css({"background-image":"-webkit-gradient(linear, "+(y?100:0)+"% "+(A?100:0)+"%, "+f.x+"% "+f.y+"%, color-stop("+j+",rgba(0,0,0,0)), color-stop("+(0.8*(1-j)+j)+",rgba(0,0,0,"+0.2*F+")), to(rgba(255,255,255,"+0.2*F+")) )"});l.opt.backShadow&&l.bshadow.css({"background-image":"-webkit-gradient(linear, "+(y?0:100)+"% "+(A?0:100)+"%, "+h.x+"% "+h.y+"%,  color-stop(0.8,rgba(0,0,0,0)), color-stop(1, rgba(0,0,0,"+0.2*F+")), to(rgba(0,0,0,0)) )"})};
switch(a.corner){case "tl":a.x=Math.max(a.x,0);D();G(k,[1,0,0,1],[100,0],c);l.fpage.transform(o(-r,-n,u)+q(90-2*c),"100% 100%");l.opt.back.transform(q(90)+o(0,-r,u),"0% 0%");break;case "tr":a.x=Math.min(a.x,n);D();G(g(-k.x,k.y),[0,0,0,1],[0,0],-c);l.fpage.transform(o(0,-n,u)+q(-90+2*c),"0% 100%");l.opt.back.transform(q(270)+o(-n,0,u),"0% 0%");break;case "bl":a.x=Math.max(a.x,0);D();G(g(k.x,-k.y),[1,1,0,0],[100,100],-c);l.fpage.transform(o(-r,0,u)+q(-90+2*c),"100% 0%");l.opt.back.transform(q(270)+
o(-n,0,u),"0% 0%");break;case "br":a.x=Math.min(a.x,n),D(),G(g(-k.x,-k.y),[0,1,1,0],[0,100],c),l.fpage.transform(q(90-2*c),"0% 0%"),l.opt.back.transform(q(90)+o(0,-r,u),"0% 0%")}l.p=a},setBackPage:function(a){var b=this.data().pageFlip;b.opt.back=a;b.backParent=a.parent()},_moveBackPage:function(a){var b=this.data().pageFlip;if(b.opt.back){var c=navigator.userAgent;if(-1!=c.indexOf("Chrome/17.")||-1!=c.indexOf("Chrome/18."))c=b.opt.back.css("background-image"),b.opt.back.css({"background-image":""}).css({"background-image":c});
if(a){if(!((b.ashadow?"1":"0")in b.fpage.children()))i.setData.call(this,{backParent:b.opt.back.parent()}),b.fpage.prepend(b.opt.back)}else b.backParent&&b.backParent.prepend(b.opt.back)}},_showThumbIndex:function(a,b){var c=this.data(),d=c.pageFlip;if(d.opt.back){if(b){var e=this,c=d.p&&d.p.corner==a.corner?d.p:i._c.call(this,a.corner,1);this.animatef({from:[c.x,c.y],to:[a.x,a.y],duration:500,frame:function(b){i._displayCorner.call(e,{corner:a.corner,x:b[0],y:b[1]})}})}else i._displayCorner.call(this,
a),c.effect&&!c.effect.turning&&this.animatef(!1);d.fwrapper.is(":visible")||(d.fparent.show().data().flips++,i._moveBackPage.call(this,!0),d.fwrapper.show(),d.opt.backShadow&&d.bshadow.show(),this.trigger("start"))}},hide:function(){var a=this.data().pageFlip;0==--a.fparent.data().flips&&a.fparent.hide();this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform("","0% 100%");a.wrapper.transform("","0% 100%");a.fwrapper.hide();a.opt.backShadow&&a.bshadow.hide();a.opt.back.transform("","0% 0%")},
hideThumbIndex:function(a){var b=this.data().pageFlip;if(b.p){var c=this,d=b.p,e=function(){b.p=null;c.flip("hide");c.trigger("end",[!1])};if(a){var f=i._c.call(this,d.corner),a="t"==d.corner.substr(0,1)?Math.min(0,d.y-f.y)/2:Math.max(0,d.y-f.y)/2,h=g(d.x,d.y+a),j=g(f.x,f.y-a);this.animatef({from:0,to:1,frame:function(a){a=J(d,h,j,f,a);a.corner=d.corner;i._displayCorner.call(c,a)},complete:e,duration:800,hiding:!0})}else this.animatef(!1),e()}},turnPage:function(){var a=this,b=this.data().pageFlip,
c=b.cornerActivated?b.cornerActivated.corner:i._cAllowed.call(this)[0],d=b.p||i._c.call(this,c),e=i._c2.call(this,c);this.trigger("flip");this.animatef({from:0,to:1,frame:function(b){b=J(d,d,e,e,b);b.corner=c;i._showThumbIndex.call(a,b)},complete:function(){a.trigger("end",[!0])},duration:b.opt.duration,turning:!0});b.cornerActivated=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},_addEvents:function(){var a=this,b=
this.data().pageFlip;h(b.opt.turn||document).bind(I.start,function(b){return i._eventStart.call(a,b)});h(document).bind(I.move,function(b){i._eventMove.call(a,b)}).bind(I.end,function(b){i._eventEnd.call(a,b)})},_eventStart:function(a){var b=this.data().pageFlip;if(!b.disabled&&!this.flip("isTurning")&&(b.cornerActivated=i._cornerActivated.call(this,a),b.cornerActivated))return i._moveBackPage.call(this,!0),this.trigger("pressed",[b.p]),!1},_eventMove:function(a){var b=this.data().pageFlip;if(!b.disabled)if(a=
v?a.originalEvent.touches:[a],b.cornerActivated){var c=b.parent.offset();i._showThumbIndex.call(this,{corner:b.cornerActivated.corner,x:a[0].pageX-c.left,y:a[0].pageY-c.top})}else!this.data().effect&&this.is(":visible")&&((corner=i._cornerActivated.call(this,a[0]))?(a=i._c.call(this,corner.corner,b.opt.cornerSize/2),i._showThumbIndex.call(this,{corner:corner.corner,x:a.x,y:a.y},!0)):i.hideThumbIndex.call(this,!0))},_eventEnd:function(){var a=this.data().pageFlip;if(!a.disabled&&a.cornerActivated){var b=
jQuery.Event("released");this.trigger(b,[a.p]);b.isPropagationStopped()||i.hideThumbIndex.call(this,!0)}a.cornerActivated=null},disable:function(a){i.setData.call(this,{disabled:a})}},K=function(a,b,c){if(!c[0]||"object"==typeof c[0])return b.init.apply(a,c);if(b[c[0]]&&"_"!=c[0].toString().substr(0,1))return b[c[0]].apply(a,Array.prototype.slice.call(c,1));throw c[0]+" is an invalid value";};h.extend(h.fn,{flip:function(a,b){return K(this,i,arguments)},turn:function(a){return K(this,j,arguments)},
transform:function(a,b){b&&this.css({"transform-origin":b,"-moz-transform-origin":b,"-o-transform-origin":b,"-webkit-transform-origin":b,"-ms-transform-origin":b});return this.css({transform:a,"-moz-transform":a,"-o-transform":a,"-webkit-transform":a,"-ms-transform":a})},animatef:function(a){var b=this.data();b.effect&&clearInterval(b.effect.handle);if(a){a.to.length||(a.to=[a.to]);a.from.length||(a.from=[a.from]);a.easing||(a.easing=function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c});var c,
d=[],e=a.to.length,f=this,g=a.fps||30,i=-g,h=function(){var c,h=[];i=Math.min(a.duration,i+g);for(c=0;c<e;c++)h.push(a.easing(1,i,a.from[c],d[c],a.duration));a.frame(1==e?h[0]:h);i==a.duration&&(clearInterval(b.effect.handle),delete b.effect,f.data(b),a.complete&&a.complete())};for(c=0;c<e;c++)d.push(a.to[c]-a.from[c]);b.effect=a;b.effect.handle=setInterval(h,g);this.data(b);h()}else delete b.effect}});h.has3d=H;h.isTouch=v})(jQuery);
